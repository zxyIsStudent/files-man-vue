{"ast":null,"code":"import { defineComponent, reactive, computed, toRefs, provide, watch, ref, onMounted, nextTick, onBeforeUnmount, resolveComponent, openBlock, createElementBlock, normalizeClass, createElementVNode, normalizeStyle, createVNode, createBlock, createCommentVNode, Fragment, renderList } from 'vue';\nimport { ElInputNumber } from '../../input-number/index2.mjs';\nimport '../../../constants/index2.mjs';\nimport '../../../utils/index2.mjs';\nimport '../../../hooks/index2.mjs';\nimport SliderButton from './button2.mjs';\nimport SliderMarker from './marker2.mjs';\nimport { useMarks } from './useMarks2.mjs';\nimport { useSlide } from './useSlide2.mjs';\nimport { useStops } from './useStops2.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { isValidComponentSize } from '../../../utils/vue/validator2.mjs';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT, INPUT_EVENT } from '../../../constants/event2.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index2.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index2.mjs';\nimport { useFormItemInputId } from '../../../hooks/use-form-item/index2.mjs';\nimport { useSize } from '../../../hooks/use-common-props/index2.mjs';\nimport { throwError, debugWarn } from '../../../utils/error2.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElSlider\",\n  components: {\n    ElInputNumber,\n    SliderButton,\n    SliderMarker\n  },\n  props: {\n    modelValue: {\n      type: [Number, Array],\n      default: 0\n    },\n    id: {\n      type: String,\n      default: void 0\n    },\n    min: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 100\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    showInput: {\n      type: Boolean,\n      default: false\n    },\n    showInputControls: {\n      type: Boolean,\n      default: true\n    },\n    size: {\n      type: String,\n      validator: isValidComponentSize\n    },\n    inputSize: {\n      type: String,\n      validator: isValidComponentSize\n    },\n    showStops: {\n      type: Boolean,\n      default: false\n    },\n    showTooltip: {\n      type: Boolean,\n      default: true\n    },\n    formatTooltip: {\n      type: Function,\n      default: void 0\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    range: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    height: {\n      type: String,\n      default: \"\"\n    },\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    label: {\n      type: String,\n      default: void 0\n    },\n    rangeStartLabel: {\n      type: String,\n      default: void 0\n    },\n    rangeEndLabel: {\n      type: String,\n      default: void 0\n    },\n    formatValueText: {\n      type: Function,\n      default: void 0\n    },\n    tooltipClass: {\n      type: String,\n      default: void 0\n    },\n    marks: Object\n  },\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT, INPUT_EVENT],\n\n  setup(props, {\n    emit\n  }) {\n    const ns = useNamespace(\"slider\");\n    const {\n      t\n    } = useLocale();\n    const initData = reactive({\n      firstValue: 0,\n      secondValue: 0,\n      oldValue: 0,\n      dragging: false,\n      sliderSize: 1\n    });\n    const {\n      elFormItem,\n      slider,\n      firstButton,\n      secondButton,\n      sliderDisabled,\n      minValue,\n      maxValue,\n      runwayStyle,\n      barStyle,\n      resetSize,\n      emitChange,\n      onSliderWrapperPrevent,\n      onSliderClick,\n      onSliderDown,\n      setFirstValue,\n      setSecondValue\n    } = useSlide(props, initData, emit);\n    const {\n      stops,\n      getStopStyle\n    } = useStops(props, initData, minValue, maxValue);\n    const {\n      inputId,\n      isLabeledByFormItem\n    } = useFormItemInputId(props, {\n      formItemContext: elFormItem\n    });\n    const sliderWrapperSize = useSize();\n    const sliderInputSize = computed(() => props.inputSize || sliderWrapperSize.value);\n    const groupLabel = computed(() => {\n      return props.label || t(\"el.slider.defaultLabel\", {\n        min: props.min,\n        max: props.max\n      });\n    });\n    const firstButtonLabel = computed(() => {\n      if (props.range) {\n        return props.rangeStartLabel || t(\"el.slider.defaultRangeStartLabel\");\n      } else {\n        return groupLabel.value;\n      }\n    });\n    const firstValueText = computed(() => {\n      return props.formatValueText ? props.formatValueText(firstValue.value) : `${firstValue.value}`;\n    });\n    const secondButtonLabel = computed(() => {\n      return props.rangeEndLabel || t(\"el.slider.defaultRangeEndLabel\");\n    });\n    const secondValueText = computed(() => {\n      return props.formatValueText ? props.formatValueText(secondValue.value) : `${secondValue.value}`;\n    });\n    const sliderKls = computed(() => [ns.b(), ns.m(sliderWrapperSize.value), ns.is(\"vertical\", props.vertical), {\n      [ns.m(\"with-input\")]: props.showInput\n    }]);\n    const markList = useMarks(props);\n    useWatch(props, initData, minValue, maxValue, emit, elFormItem);\n    const precision = computed(() => {\n      const precisions = [props.min, props.max, props.step].map(item => {\n        const decimal = `${item}`.split(\".\")[1];\n        return decimal ? decimal.length : 0;\n      });\n      return Math.max.apply(null, precisions);\n    });\n    const {\n      sliderWrapper\n    } = useLifecycle(props, initData, resetSize);\n    const {\n      firstValue,\n      secondValue,\n      oldValue,\n      dragging,\n      sliderSize\n    } = toRefs(initData);\n\n    const updateDragging = val => {\n      initData.dragging = val;\n    };\n\n    provide(\"SliderProvider\", { ...toRefs(props),\n      sliderSize,\n      disabled: sliderDisabled,\n      precision,\n      emitChange,\n      resetSize,\n      updateDragging\n    });\n    return {\n      ns,\n      firstValue,\n      secondValue,\n      oldValue,\n      dragging,\n      sliderSize,\n      inputId,\n      isLabeledByFormItem,\n      elFormItem,\n      slider,\n      groupLabel,\n      firstButton,\n      firstButtonLabel,\n      firstValueText,\n      secondButton,\n      secondButtonLabel,\n      secondValueText,\n      sliderDisabled,\n      runwayStyle,\n      barStyle,\n      emitChange,\n      onSliderClick,\n      onSliderWrapperPrevent,\n      onSliderDown,\n      getStopStyle,\n      setFirstValue,\n      setSecondValue,\n      stops,\n      markList,\n      sliderWrapper,\n      sliderWrapperSize,\n      sliderInputSize,\n      sliderKls\n    };\n  }\n\n});\n\nconst useWatch = (props, initData, minValue, maxValue, emit, elFormItem) => {\n  const _emit = val => {\n    emit(UPDATE_MODEL_EVENT, val);\n    emit(INPUT_EVENT, val);\n  };\n\n  const valueChanged = () => {\n    if (props.range) {\n      return ![minValue.value, maxValue.value].every((item, index) => item === initData.oldValue[index]);\n    } else {\n      return props.modelValue !== initData.oldValue;\n    }\n  };\n\n  const setValues = () => {\n    var _a, _b;\n\n    if (props.min > props.max) {\n      throwError(\"Slider\", \"min should not be greater than max.\");\n      return;\n    }\n\n    const val = props.modelValue;\n\n    if (props.range && Array.isArray(val)) {\n      if (val[1] < props.min) {\n        _emit([props.min, props.min]);\n      } else if (val[0] > props.max) {\n        _emit([props.max, props.max]);\n      } else if (val[0] < props.min) {\n        _emit([props.min, val[1]]);\n      } else if (val[1] > props.max) {\n        _emit([val[0], props.max]);\n      } else {\n        initData.firstValue = val[0];\n        initData.secondValue = val[1];\n\n        if (valueChanged()) {\n          (_a = elFormItem.validate) == null ? void 0 : _a.call(elFormItem, \"change\").catch(err => debugWarn(err));\n          initData.oldValue = val.slice();\n        }\n      }\n    } else if (!props.range && typeof val === \"number\" && !Number.isNaN(val)) {\n      if (val < props.min) {\n        _emit(props.min);\n      } else if (val > props.max) {\n        _emit(props.max);\n      } else {\n        initData.firstValue = val;\n\n        if (valueChanged()) {\n          (_b = elFormItem.validate) == null ? void 0 : _b.call(elFormItem, \"change\").catch(err => debugWarn(err));\n          initData.oldValue = val;\n        }\n      }\n    }\n  };\n\n  setValues();\n  watch(() => initData.dragging, val => {\n    if (!val) {\n      setValues();\n    }\n  });\n  watch(() => props.modelValue, (val, oldVal) => {\n    if (initData.dragging || Array.isArray(val) && Array.isArray(oldVal) && val.every((item, index) => item === oldVal[index]) && initData.firstValue === val[0] && initData.secondValue === val[1]) {\n      return;\n    }\n\n    setValues();\n  }, {\n    deep: true\n  });\n  watch(() => [props.min, props.max], () => {\n    setValues();\n  });\n};\n\nconst useLifecycle = (props, initData, resetSize) => {\n  const sliderWrapper = ref();\n  onMounted(async () => {\n    if (props.range) {\n      if (Array.isArray(props.modelValue)) {\n        initData.firstValue = Math.max(props.min, props.modelValue[0]);\n        initData.secondValue = Math.min(props.max, props.modelValue[1]);\n      } else {\n        initData.firstValue = props.min;\n        initData.secondValue = props.max;\n      }\n\n      initData.oldValue = [initData.firstValue, initData.secondValue];\n    } else {\n      if (typeof props.modelValue !== \"number\" || Number.isNaN(props.modelValue)) {\n        initData.firstValue = props.min;\n      } else {\n        initData.firstValue = Math.min(props.max, Math.max(props.min, props.modelValue));\n      }\n\n      initData.oldValue = initData.firstValue;\n    }\n\n    window.addEventListener(\"resize\", resetSize);\n    await nextTick();\n    resetSize();\n  });\n  onBeforeUnmount(() => {\n    window.removeEventListener(\"resize\", resetSize);\n  });\n  return {\n    sliderWrapper\n  };\n};\n\nconst _hoisted_1 = [\"id\", \"role\", \"aria-label\", \"aria-labelledby\"];\nconst _hoisted_2 = {\n  key: 1\n};\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_slider_button = resolveComponent(\"slider-button\");\n\n  const _component_slider_marker = resolveComponent(\"slider-marker\");\n\n  const _component_el_input_number = resolveComponent(\"el-input-number\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    id: _ctx.range ? _ctx.inputId : void 0,\n    ref: \"sliderWrapper\",\n    class: normalizeClass(_ctx.sliderKls),\n    role: _ctx.range ? \"group\" : void 0,\n    \"aria-label\": _ctx.range && !_ctx.isLabeledByFormItem ? _ctx.groupLabel : void 0,\n    \"aria-labelledby\": _ctx.range && _ctx.isLabeledByFormItem ? _ctx.elFormItem.labelId : void 0,\n    onTouchstart: _cache[2] || (_cache[2] = (...args) => _ctx.onSliderWrapperPrevent && _ctx.onSliderWrapperPrevent(...args)),\n    onTouchmove: _cache[3] || (_cache[3] = (...args) => _ctx.onSliderWrapperPrevent && _ctx.onSliderWrapperPrevent(...args))\n  }, [createElementVNode(\"div\", {\n    ref: \"slider\",\n    class: normalizeClass([_ctx.ns.e(\"runway\"), {\n      \"show-input\": _ctx.showInput && !_ctx.range\n    }, _ctx.ns.is(\"disabled\", _ctx.sliderDisabled)]),\n    style: normalizeStyle(_ctx.runwayStyle),\n    onMousedown: _cache[0] || (_cache[0] = (...args) => _ctx.onSliderDown && _ctx.onSliderDown(...args)),\n    onTouchstart: _cache[1] || (_cache[1] = (...args) => _ctx.onSliderDown && _ctx.onSliderDown(...args))\n  }, [createElementVNode(\"div\", {\n    class: normalizeClass(_ctx.ns.e(\"bar\")),\n    style: normalizeStyle(_ctx.barStyle)\n  }, null, 6), createVNode(_component_slider_button, {\n    id: !_ctx.range ? _ctx.inputId : void 0,\n    ref: \"firstButton\",\n    \"model-value\": _ctx.firstValue,\n    vertical: _ctx.vertical,\n    \"tooltip-class\": _ctx.tooltipClass,\n    role: \"slider\",\n    \"aria-label\": _ctx.range || !_ctx.isLabeledByFormItem ? _ctx.firstButtonLabel : void 0,\n    \"aria-labelledby\": !_ctx.range && _ctx.isLabeledByFormItem ? _ctx.elFormItem.labelId : void 0,\n    \"aria-valuemin\": _ctx.min,\n    \"aria-valuemax\": _ctx.range ? _ctx.secondValue : _ctx.max,\n    \"aria-valuenow\": _ctx.firstValue,\n    \"aria-valuetext\": _ctx.firstValueText,\n    \"aria-orientation\": _ctx.vertical ? \"vertical\" : \"horizontal\",\n    \"aria-disabled\": _ctx.sliderDisabled,\n    \"onUpdate:modelValue\": _ctx.setFirstValue\n  }, null, 8, [\"id\", \"model-value\", \"vertical\", \"tooltip-class\", \"aria-label\", \"aria-labelledby\", \"aria-valuemin\", \"aria-valuemax\", \"aria-valuenow\", \"aria-valuetext\", \"aria-orientation\", \"aria-disabled\", \"onUpdate:modelValue\"]), _ctx.range ? (openBlock(), createBlock(_component_slider_button, {\n    key: 0,\n    ref: \"secondButton\",\n    \"model-value\": _ctx.secondValue,\n    vertical: _ctx.vertical,\n    \"tooltip-class\": _ctx.tooltipClass,\n    role: \"slider\",\n    \"aria-label\": _ctx.secondButtonLabel,\n    \"aria-valuemin\": _ctx.firstValue,\n    \"aria-valuemax\": _ctx.max,\n    \"aria-valuenow\": _ctx.secondValue,\n    \"aria-valuetext\": _ctx.secondValueText,\n    \"aria-orientation\": _ctx.vertical ? \"vertical\" : \"horizontal\",\n    \"aria-disabled\": _ctx.sliderDisabled,\n    \"onUpdate:modelValue\": _ctx.setSecondValue\n  }, null, 8, [\"model-value\", \"vertical\", \"tooltip-class\", \"aria-label\", \"aria-valuemin\", \"aria-valuemax\", \"aria-valuenow\", \"aria-valuetext\", \"aria-orientation\", \"aria-disabled\", \"onUpdate:modelValue\"])) : createCommentVNode(\"v-if\", true), _ctx.showStops ? (openBlock(), createElementBlock(\"div\", _hoisted_2, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.stops, (item, key) => {\n    return openBlock(), createElementBlock(\"div\", {\n      key,\n      class: normalizeClass(_ctx.ns.e(\"stop\")),\n      style: normalizeStyle(_ctx.getStopStyle(item))\n    }, null, 6);\n  }), 128))])) : createCommentVNode(\"v-if\", true), _ctx.markList.length > 0 ? (openBlock(), createElementBlock(Fragment, {\n    key: 2\n  }, [createElementVNode(\"div\", null, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.markList, (item, key) => {\n    return openBlock(), createElementBlock(\"div\", {\n      key,\n      style: normalizeStyle(_ctx.getStopStyle(item.position)),\n      class: normalizeClass([_ctx.ns.e(\"stop\"), _ctx.ns.e(\"marks-stop\")])\n    }, null, 6);\n  }), 128))]), createElementVNode(\"div\", {\n    class: normalizeClass(_ctx.ns.e(\"marks\"))\n  }, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.markList, (item, key) => {\n    return openBlock(), createBlock(_component_slider_marker, {\n      key,\n      mark: item.mark,\n      style: normalizeStyle(_ctx.getStopStyle(item.position))\n    }, null, 8, [\"mark\", \"style\"]);\n  }), 128))], 2)], 64)) : createCommentVNode(\"v-if\", true)], 38), _ctx.showInput && !_ctx.range ? (openBlock(), createBlock(_component_el_input_number, {\n    key: 0,\n    ref: \"input\",\n    \"model-value\": _ctx.firstValue,\n    class: normalizeClass(_ctx.ns.e(\"input\")),\n    step: _ctx.step,\n    disabled: _ctx.sliderDisabled,\n    controls: _ctx.showInputControls,\n    min: _ctx.min,\n    max: _ctx.max,\n    debounce: _ctx.debounce,\n    size: _ctx.sliderInputSize,\n    \"onUpdate:modelValue\": _ctx.setFirstValue,\n    onChange: _ctx.emitChange\n  }, null, 8, [\"model-value\", \"class\", \"step\", \"disabled\", \"controls\", \"min\", \"max\", \"debounce\", \"size\", \"onUpdate:modelValue\", \"onChange\"])) : createCommentVNode(\"v-if\", true)], 42, _hoisted_1);\n}\n\nvar Slider = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/slider/src/index.vue\"]]);\n\nexport { Slider as default };","map":{"version":3,"mappings":"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","names":["_sfc_main","defineComponent","name","components","ElInputNumber","SliderButton","SliderMarker","props","modelValue","type","Number","Array","default","id","min","max","step","showInput","showInputControls","size","validator","inputSize","showStops","showTooltip","formatTooltip","disabled","range","vertical","height","debounce","label","rangeStartLabel","rangeEndLabel","formatValueText","tooltipClass","marks","emits","UPDATE_MODEL_EVENT","CHANGE_EVENT","INPUT_EVENT","setup","emit","useNamespace","t","useLocale","initData","reactive","firstValue","secondValue","oldValue","dragging","sliderSize","elFormItem","slider","firstButton","secondButton","sliderDisabled","minValue","maxValue","runwayStyle","barStyle","resetSize","emitChange","onSliderWrapperPrevent","onSliderClick","onSliderDown","setFirstValue","setSecondValue","useSlide","stops","getStopStyle","useStops","inputId","isLabeledByFormItem","useFormItemInputId","formItemContext","sliderWrapperSize","useSize","sliderInputSize","computed","value","groupLabel","ns","b","m","useMarks","useWatch","map","item","decimal","split","length","Math","apply","precisions","sliderWrapper","useLifecycle","toRefs","val","provide","precision","updateDragging","firstButtonLabel","firstValueText","secondButtonLabel","secondValueText","markList","sliderKls","valueChanged","every","index","setValues","throwError","_emit","_a","_b","watch","oldVal","deep","onMounted","window","addEventListener","onBeforeUnmount","_createElementBlock","ref","class","role","_ctx","onTouchstart","_cache","onTouchmove","style","onMousedown","_createElementVNode","_normalizeClass","e","_createVNode","key","_createCommentVNode","_openBlock","_normalizeStyle","mark","controls","onChange"],"sources":["../../../../../../packages/components/slider/src/index.vue"],"sourcesContent":["<template>\n  <div\n    :id=\"range ? inputId : undefined\"\n    ref=\"sliderWrapper\"\n    :class=\"sliderKls\"\n    :role=\"range ? 'group' : undefined\"\n    :aria-label=\"range && !isLabeledByFormItem ? groupLabel : undefined\"\n    :aria-labelledby=\"\n      range && isLabeledByFormItem ? elFormItem.labelId : undefined\n    \"\n    @touchstart=\"onSliderWrapperPrevent\"\n    @touchmove=\"onSliderWrapperPrevent\"\n  >\n    <div\n      ref=\"slider\"\n      :class=\"[\n        ns.e('runway'),\n        { 'show-input': showInput && !range },\n        ns.is('disabled', sliderDisabled),\n      ]\"\n      :style=\"runwayStyle\"\n      @mousedown=\"onSliderDown\"\n      @touchstart=\"onSliderDown\"\n    >\n      <div :class=\"ns.e('bar')\" :style=\"barStyle\" />\n      <slider-button\n        :id=\"!range ? inputId : undefined\"\n        ref=\"firstButton\"\n        :model-value=\"firstValue\"\n        :vertical=\"vertical\"\n        :tooltip-class=\"tooltipClass\"\n        role=\"slider\"\n        :aria-label=\"\n          range || !isLabeledByFormItem ? firstButtonLabel : undefined\n        \"\n        :aria-labelledby=\"\n          !range && isLabeledByFormItem ? elFormItem.labelId : undefined\n        \"\n        :aria-valuemin=\"min\"\n        :aria-valuemax=\"range ? secondValue : max\"\n        :aria-valuenow=\"firstValue\"\n        :aria-valuetext=\"firstValueText\"\n        :aria-orientation=\"vertical ? 'vertical' : 'horizontal'\"\n        :aria-disabled=\"sliderDisabled\"\n        @update:model-value=\"setFirstValue\"\n      />\n      <slider-button\n        v-if=\"range\"\n        ref=\"secondButton\"\n        :model-value=\"secondValue\"\n        :vertical=\"vertical\"\n        :tooltip-class=\"tooltipClass\"\n        role=\"slider\"\n        :aria-label=\"secondButtonLabel\"\n        :aria-valuemin=\"firstValue\"\n        :aria-valuemax=\"max\"\n        :aria-valuenow=\"secondValue\"\n        :aria-valuetext=\"secondValueText\"\n        :aria-orientation=\"vertical ? 'vertical' : 'horizontal'\"\n        :aria-disabled=\"sliderDisabled\"\n        @update:model-value=\"setSecondValue\"\n      />\n      <div v-if=\"showStops\">\n        <div\n          v-for=\"(item, key) in stops\"\n          :key=\"key\"\n          :class=\"ns.e('stop')\"\n          :style=\"getStopStyle(item)\"\n        />\n      </div>\n      <template v-if=\"markList.length > 0\">\n        <div>\n          <div\n            v-for=\"(item, key) in markList\"\n            :key=\"key\"\n            :style=\"getStopStyle(item.position)\"\n            :class=\"[ns.e('stop'), ns.e('marks-stop')]\"\n          />\n        </div>\n        <div :class=\"ns.e('marks')\">\n          <slider-marker\n            v-for=\"(item, key) in markList\"\n            :key=\"key\"\n            :mark=\"item.mark\"\n            :style=\"getStopStyle(item.position)\"\n          />\n        </div>\n      </template>\n    </div>\n    <el-input-number\n      v-if=\"showInput && !range\"\n      ref=\"input\"\n      :model-value=\"firstValue\"\n      :class=\"ns.e('input')\"\n      :step=\"step\"\n      :disabled=\"sliderDisabled\"\n      :controls=\"showInputControls\"\n      :min=\"min\"\n      :max=\"max\"\n      :debounce=\"debounce\"\n      :size=\"sliderInputSize\"\n      @update:model-value=\"setFirstValue\"\n      @change=\"emitChange\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  computed,\n  defineComponent,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  provide,\n  reactive,\n  ref,\n  toRefs,\n  watch,\n} from 'vue'\nimport ElInputNumber from '@element-plus/components/input-number'\nimport {\n  CHANGE_EVENT,\n  INPUT_EVENT,\n  UPDATE_MODEL_EVENT,\n} from '@element-plus/constants'\nimport {\n  debugWarn,\n  isValidComponentSize,\n  throwError,\n} from '@element-plus/utils'\nimport {\n  useFormItemInputId,\n  useLocale,\n  useNamespace,\n  useSize,\n} from '@element-plus/hooks'\nimport SliderButton from './button.vue'\nimport SliderMarker from './marker.vue'\nimport { useMarks } from './useMarks'\nimport { useSlide } from './useSlide'\nimport { useStops } from './useStops'\n\nimport type { PropType } from 'vue'\nimport type { ComponentSize } from '@element-plus/constants'\n\nexport default defineComponent({\n  name: 'ElSlider',\n\n  components: {\n    ElInputNumber,\n    SliderButton,\n    SliderMarker,\n  },\n\n  props: {\n    modelValue: {\n      type: [Number, Array] as PropType<number | number[]>,\n      default: 0,\n    },\n    id: {\n      type: String,\n      default: undefined,\n    },\n    min: {\n      type: Number,\n      default: 0,\n    },\n    max: {\n      type: Number,\n      default: 100,\n    },\n    step: {\n      type: Number,\n      default: 1,\n    },\n    showInput: {\n      type: Boolean,\n      default: false,\n    },\n    showInputControls: {\n      type: Boolean,\n      default: true,\n    },\n    size: {\n      type: String as PropType<ComponentSize>,\n      validator: isValidComponentSize,\n    },\n    inputSize: {\n      type: String as PropType<ComponentSize>,\n      validator: isValidComponentSize,\n    },\n    showStops: {\n      type: Boolean,\n      default: false,\n    },\n    showTooltip: {\n      type: Boolean,\n      default: true,\n    },\n    formatTooltip: {\n      type: Function as PropType<(val: number) => number | string>,\n      default: undefined,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    range: {\n      type: Boolean,\n      default: false,\n    },\n    vertical: {\n      type: Boolean,\n      default: false,\n    },\n    height: {\n      type: String,\n      default: '',\n    },\n    debounce: {\n      type: Number,\n      default: 300,\n    },\n    label: {\n      type: String,\n      default: undefined,\n    },\n    rangeStartLabel: {\n      type: String,\n      default: undefined,\n    },\n    rangeEndLabel: {\n      type: String,\n      default: undefined,\n    },\n    formatValueText: {\n      type: Function as PropType<(val: number) => string>,\n      default: undefined,\n    },\n    tooltipClass: {\n      type: String,\n      default: undefined,\n    },\n    marks: Object,\n  },\n\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT, INPUT_EVENT],\n\n  setup(props, { emit }) {\n    const ns = useNamespace('slider')\n    const { t } = useLocale()\n    const initData = reactive({\n      firstValue: 0,\n      secondValue: 0,\n      oldValue: 0,\n      dragging: false,\n      sliderSize: 1,\n    })\n\n    const {\n      elFormItem,\n      slider,\n      firstButton,\n      secondButton,\n      sliderDisabled,\n      minValue,\n      maxValue,\n      runwayStyle,\n      barStyle,\n      resetSize,\n      emitChange,\n      onSliderWrapperPrevent,\n      onSliderClick,\n      onSliderDown,\n      setFirstValue,\n      setSecondValue,\n    } = useSlide(props, initData, emit)\n\n    const { stops, getStopStyle } = useStops(\n      props,\n      initData,\n      minValue,\n      maxValue\n    )\n\n    const { inputId, isLabeledByFormItem } = useFormItemInputId(props, {\n      formItemContext: elFormItem,\n    })\n\n    const sliderWrapperSize = useSize()\n    const sliderInputSize = computed(\n      () => props.inputSize || sliderWrapperSize.value\n    )\n\n    const groupLabel = computed<string>(() => {\n      return (\n        props.label ||\n        t('el.slider.defaultLabel', {\n          min: props.min,\n          max: props.max,\n        })\n      )\n    })\n\n    const firstButtonLabel = computed<string>(() => {\n      if (props.range) {\n        return props.rangeStartLabel || t('el.slider.defaultRangeStartLabel')\n      } else {\n        return groupLabel.value\n      }\n    })\n\n    const firstValueText = computed<string>(() => {\n      return props.formatValueText\n        ? props.formatValueText(firstValue.value)\n        : `${firstValue.value}`\n    })\n\n    const secondButtonLabel = computed<string>(() => {\n      return props.rangeEndLabel || t('el.slider.defaultRangeEndLabel')\n    })\n\n    const secondValueText = computed<string>(() => {\n      return props.formatValueText\n        ? props.formatValueText(secondValue.value)\n        : `${secondValue.value}`\n    })\n\n    const sliderKls = computed(() => [\n      ns.b(),\n      ns.m(sliderWrapperSize.value),\n      ns.is('vertical', props.vertical),\n      { [ns.m('with-input')]: props.showInput },\n    ])\n\n    const markList = useMarks(props)\n\n    useWatch(props, initData, minValue, maxValue, emit, elFormItem)\n\n    const precision = computed(() => {\n      const precisions = [props.min, props.max, props.step].map((item) => {\n        const decimal = `${item}`.split('.')[1]\n        return decimal ? decimal.length : 0\n      })\n      return Math.max.apply(null, precisions)\n    })\n\n    const { sliderWrapper } = useLifecycle(props, initData, resetSize)\n\n    const { firstValue, secondValue, oldValue, dragging, sliderSize } =\n      toRefs(initData)\n\n    const updateDragging = (val: boolean) => {\n      initData.dragging = val\n    }\n\n    provide('SliderProvider', {\n      ...toRefs(props),\n      sliderSize,\n      disabled: sliderDisabled,\n      precision,\n      emitChange,\n      resetSize,\n      updateDragging,\n    })\n\n    return {\n      ns,\n      firstValue,\n      secondValue,\n      oldValue,\n      dragging,\n      sliderSize,\n\n      inputId,\n      isLabeledByFormItem,\n      elFormItem,\n\n      slider,\n      groupLabel,\n      firstButton,\n      firstButtonLabel,\n      firstValueText,\n      secondButton,\n      secondButtonLabel,\n      secondValueText,\n      sliderDisabled,\n      runwayStyle,\n      barStyle,\n      emitChange,\n      onSliderClick,\n      onSliderWrapperPrevent,\n      onSliderDown,\n      getStopStyle,\n      setFirstValue,\n      setSecondValue,\n\n      stops,\n      markList,\n\n      sliderWrapper,\n      sliderWrapperSize,\n      sliderInputSize,\n      sliderKls,\n    }\n  },\n})\n\nconst useWatch = (props, initData, minValue, maxValue, emit, elFormItem) => {\n  const _emit = (val: number | number[]) => {\n    emit(UPDATE_MODEL_EVENT, val)\n    emit(INPUT_EVENT, val)\n  }\n\n  const valueChanged = () => {\n    if (props.range) {\n      return ![minValue.value, maxValue.value].every(\n        (item, index) => item === initData.oldValue[index]\n      )\n    } else {\n      return props.modelValue !== initData.oldValue\n    }\n  }\n\n  const setValues = () => {\n    if (props.min > props.max) {\n      throwError('Slider', 'min should not be greater than max.')\n      return\n    }\n    const val = props.modelValue\n    if (props.range && Array.isArray(val)) {\n      if (val[1] < props.min) {\n        _emit([props.min, props.min])\n      } else if (val[0] > props.max) {\n        _emit([props.max, props.max])\n      } else if (val[0] < props.min) {\n        _emit([props.min, val[1]])\n      } else if (val[1] > props.max) {\n        _emit([val[0], props.max])\n      } else {\n        initData.firstValue = val[0]\n        initData.secondValue = val[1]\n        if (valueChanged()) {\n          elFormItem.validate?.('change').catch((err) => debugWarn(err))\n          initData.oldValue = val.slice()\n        }\n      }\n    } else if (!props.range && typeof val === 'number' && !Number.isNaN(val)) {\n      if (val < props.min) {\n        _emit(props.min)\n      } else if (val > props.max) {\n        _emit(props.max)\n      } else {\n        initData.firstValue = val\n        if (valueChanged()) {\n          elFormItem.validate?.('change').catch((err) => debugWarn(err))\n          initData.oldValue = val\n        }\n      }\n    }\n  }\n\n  setValues()\n\n  watch(\n    () => initData.dragging,\n    (val) => {\n      if (!val) {\n        setValues()\n      }\n    }\n  )\n\n  watch(\n    () => props.modelValue,\n    (val, oldVal) => {\n      if (\n        initData.dragging ||\n        (Array.isArray(val) &&\n          Array.isArray(oldVal) &&\n          val.every((item, index) => item === oldVal[index]) &&\n          initData.firstValue === val[0] &&\n          initData.secondValue === val[1])\n      ) {\n        return\n      }\n      setValues()\n    },\n    {\n      deep: true,\n    }\n  )\n\n  watch(\n    () => [props.min, props.max],\n    () => {\n      setValues()\n    }\n  )\n}\n\nconst useLifecycle = (props, initData, resetSize) => {\n  const sliderWrapper = ref<HTMLElement>()\n\n  onMounted(async () => {\n    if (props.range) {\n      if (Array.isArray(props.modelValue)) {\n        initData.firstValue = Math.max(props.min, props.modelValue[0])\n        initData.secondValue = Math.min(props.max, props.modelValue[1])\n      } else {\n        initData.firstValue = props.min\n        initData.secondValue = props.max\n      }\n      initData.oldValue = [initData.firstValue, initData.secondValue]\n    } else {\n      if (\n        typeof props.modelValue !== 'number' ||\n        Number.isNaN(props.modelValue)\n      ) {\n        initData.firstValue = props.min\n      } else {\n        initData.firstValue = Math.min(\n          props.max,\n          Math.max(props.min, props.modelValue)\n        )\n      }\n      initData.oldValue = initData.firstValue\n    }\n\n    window.addEventListener('resize', resetSize)\n\n    await nextTick()\n    resetSize()\n  })\n\n  onBeforeUnmount(() => {\n    window.removeEventListener('resize', resetSize)\n  })\n\n  return {\n    sliderWrapper,\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}