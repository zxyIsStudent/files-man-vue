{"ast":null,"code":"import { defineComponent, openBlock, createBlock, Transition, mergeProps, toHandlers, withCtx, renderSlot } from 'vue';\nimport '../../../hooks/index2.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index2.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"ElCollapseTransition\",\n\n  setup() {\n    const ns = useNamespace(\"collapse-transition\");\n    return {\n      ns,\n      on: {\n        beforeEnter(el) {\n          if (!el.dataset) el.dataset = {};\n          el.dataset.oldPaddingTop = el.style.paddingTop;\n          el.dataset.oldPaddingBottom = el.style.paddingBottom;\n          el.style.maxHeight = 0;\n          el.style.paddingTop = 0;\n          el.style.paddingBottom = 0;\n        },\n\n        enter(el) {\n          el.dataset.oldOverflow = el.style.overflow;\n\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = `${el.scrollHeight}px`;\n            el.style.paddingTop = el.dataset.oldPaddingTop;\n            el.style.paddingBottom = el.dataset.oldPaddingBottom;\n          } else {\n            el.style.maxHeight = 0;\n            el.style.paddingTop = el.dataset.oldPaddingTop;\n            el.style.paddingBottom = el.dataset.oldPaddingBottom;\n          }\n\n          el.style.overflow = \"hidden\";\n        },\n\n        afterEnter(el) {\n          el.style.maxHeight = \"\";\n          el.style.overflow = el.dataset.oldOverflow;\n        },\n\n        beforeLeave(el) {\n          if (!el.dataset) el.dataset = {};\n          el.dataset.oldPaddingTop = el.style.paddingTop;\n          el.dataset.oldPaddingBottom = el.style.paddingBottom;\n          el.dataset.oldOverflow = el.style.overflow;\n          el.style.maxHeight = `${el.scrollHeight}px`;\n          el.style.overflow = \"hidden\";\n        },\n\n        leave(el) {\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = 0;\n            el.style.paddingTop = 0;\n            el.style.paddingBottom = 0;\n          }\n        },\n\n        afterLeave(el) {\n          el.style.maxHeight = \"\";\n          el.style.overflow = el.dataset.oldOverflow;\n          el.style.paddingTop = el.dataset.oldPaddingTop;\n          el.style.paddingBottom = el.dataset.oldPaddingBottom;\n        }\n\n      }\n    };\n  }\n\n});\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, mergeProps({\n    name: _ctx.ns.b()\n  }, toHandlers(_ctx.on)), {\n    default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n    _: 3\n  }, 16, [\"name\"]);\n}\n\nvar CollapseTransition = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue\"]]);\n\nexport { CollapseTransition as default };","map":{"version":3,"mappings":";;;;;AASA,MAAKA,YAAaC,eAAa;EAC7BC,IAAM,wBADuB;;EAE7BC,KAAQ;IACA,WAAKC,aAAa,qBAAb,CAAL;IAEC;MACLC,EADK;MAELC,EAAI;QACFC,YAAYC,EAAZ,EAAgB;UACd,IAAI,CAACA,EAAG,QAAR,EAAiBA,GAAGC,OAAH,GAAa,EAAb;UAEdD,WAAQE,aAAR,GAAwBF,GAAGG,KAAH,CAASC,UAAjC;UACAJ,WAAQK,gBAAR,GAA2BL,GAAGG,KAAH,CAASG,aAApC;UAEHN,GAAGG,KAAH,CAASI,SAAT,GAAqB,CAArB;UACAP,GAAGG,KAAH,CAASC,UAAT,GAAsB,CAAtB;UACAJ,GAAGG,KAAH,CAASG,aAAT,GAAyB,CAAzB;QACF,CAVE;;QAYFE,MAAMR,EAAN,EAAU;UACLA,WAAQS,WAAR,GAAsBT,GAAGG,KAAH,CAASO,QAA/B;;UACC,OAAGC,YAAH,KAAoB,CAApB,EAAuB;YACtBX,SAAMO,SAAN,GAAkB,GAAGP,EAAG,iBAAxB;YACAA,SAAMI,UAAN,GAAmBJ,GAAGC,OAAH,CAAWC,aAA9B;YACAF,SAAMM,aAAN,GAAsBN,GAAGC,OAAH,CAAWI,gBAAjC;UACE,CAJH,MAIG;YACLL,GAAGG,KAAH,CAASI,SAAT,GAAqB,CAArB;YACGP,SAAMI,UAAN,GAAmBJ,GAAGC,OAAH,CAAWC,aAA9B;YACAF,SAAMM,aAAN,GAAsBN,GAAGC,OAAH,CAAWI,gBAAjC;UACL;;UAEAL,GAAGG,KAAH,CAASO,QAAT,GAAoB,QAApB;QACF,CAzBE;;QA2BFE,WAAWZ,EAAX,EAAe;UACbA,GAAGG,KAAH,CAASI,SAAT,GAAqB,EAArB;UACGP,SAAMU,QAAN,GAAiBV,GAAGC,OAAH,CAAWQ,WAA5B;QACL,CA9BE;;QAgCFI,YAAYb,EAAZ,EAAgB;UACd,IAAI,CAACA,EAAG,QAAR,EAAiBA,GAAGC,OAAH,GAAa,EAAb;UACdD,WAAQE,aAAR,GAAwBF,GAAGG,KAAH,CAASC,UAAjC;UACAJ,WAAQK,gBAAR,GAA2BL,GAAGG,KAAH,CAASG,aAApC;UACAN,WAAQS,WAAR,GAAsBT,GAAGG,KAAH,CAASO,QAA/B;UAEAV,SAAMO,SAAN,GAAkB,GAAGP,EAAG,iBAAxB;UACHA,GAAGG,KAAH,CAASO,QAAT,GAAoB,QAApB;QACF,CAxCE;;QA0CFI,MAAMd,EAAN,EAAU;UACJ,OAAGW,YAAH,KAAoB,CAApB,EAAuB;YACzBX,GAAGG,KAAH,CAASI,SAAT,GAAqB,CAArB;YACAP,GAAGG,KAAH,CAASC,UAAT,GAAsB,CAAtB;YACAJ,GAAGG,KAAH,CAASG,aAAT,GAAyB,CAAzB;UACF;QACF,CAhDE;;QAkDFS,WAAWf,EAAX,EAAe;UACbA,GAAGG,KAAH,CAASI,SAAT,GAAqB,EAArB;UACGP,SAAMU,QAAN,GAAiBV,GAAGC,OAAH,CAAWQ,WAA5B;UACAT,SAAMI,UAAN,GAAmBJ,GAAGC,OAAH,CAAWC,aAA9B;UACAF,SAAMM,aAAN,GAAsBN,GAAGC,OAAH,CAAWI,gBAAjC;QACL;;MAvDE;IAFC;EA4DT;;AAjE6B,EAA/B;;;EARE,gCAEaW,UAFb,YAEa;IAFAtB,MAAMuB,QAAGC,CAAH;EAEN,GAFcC,WAAMF,KAAGnB,EAAT,CAEd,CAFb,EAAmC;IAAAsB,iBACjC,MAAQ,CAARC,UAAQ,yBADyB;;EAAA,CAAnC","names":["_sfc_main","defineComponent","name","setup","useNamespace","ns","on","beforeEnter","el","dataset","oldPaddingTop","style","paddingTop","oldPaddingBottom","paddingBottom","maxHeight","enter","oldOverflow","overflow","scrollHeight","afterEnter","beforeLeave","leave","afterLeave","_Transition","_ctx","b","_toHandlers","default","_renderSlot"],"sources":["../../../../../../packages/components/collapse-transition/src/collapse-transition.vue"],"sourcesContent":["<template>\n  <transition :name=\"ns.b()\" v-on=\"on\">\n    <slot />\n  </transition>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\n\nexport default defineComponent({\n  name: 'ElCollapseTransition',\n  setup() {\n    const ns = useNamespace('collapse-transition')\n\n    return {\n      ns,\n      on: {\n        beforeEnter(el) {\n          if (!el.dataset) el.dataset = {}\n\n          el.dataset.oldPaddingTop = el.style.paddingTop\n          el.dataset.oldPaddingBottom = el.style.paddingBottom\n\n          el.style.maxHeight = 0\n          el.style.paddingTop = 0\n          el.style.paddingBottom = 0\n        },\n\n        enter(el) {\n          el.dataset.oldOverflow = el.style.overflow\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = `${el.scrollHeight}px`\n            el.style.paddingTop = el.dataset.oldPaddingTop\n            el.style.paddingBottom = el.dataset.oldPaddingBottom\n          } else {\n            el.style.maxHeight = 0\n            el.style.paddingTop = el.dataset.oldPaddingTop\n            el.style.paddingBottom = el.dataset.oldPaddingBottom\n          }\n\n          el.style.overflow = 'hidden'\n        },\n\n        afterEnter(el) {\n          el.style.maxHeight = ''\n          el.style.overflow = el.dataset.oldOverflow\n        },\n\n        beforeLeave(el) {\n          if (!el.dataset) el.dataset = {}\n          el.dataset.oldPaddingTop = el.style.paddingTop\n          el.dataset.oldPaddingBottom = el.style.paddingBottom\n          el.dataset.oldOverflow = el.style.overflow\n\n          el.style.maxHeight = `${el.scrollHeight}px`\n          el.style.overflow = 'hidden'\n        },\n\n        leave(el) {\n          if (el.scrollHeight !== 0) {\n            el.style.maxHeight = 0\n            el.style.paddingTop = 0\n            el.style.paddingBottom = 0\n          }\n        },\n\n        afterLeave(el) {\n          el.style.maxHeight = ''\n          el.style.overflow = el.dataset.oldOverflow\n          el.style.paddingTop = el.dataset.oldPaddingTop\n          el.style.paddingBottom = el.dataset.oldPaddingBottom\n        },\n      },\n    }\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}